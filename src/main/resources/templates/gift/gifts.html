<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gifts</title>
</head>
<body>
<div class="container">
    <div class="gift-list-container">

        <div class="gift-item" th:each="gift_obj:${gift_list}">
            <!--this will send the gift's id back to the controller-->
            <form action="#" th:action="@{/gifts/reserve/{id}(id = ${gift_obj.id})}" th:object="${chosen_gift}" method="post">

                <p th:text="${gift_obj.name}"></p>
                <p th:text="${gift_obj.id}"></p>
                <label>Select percentage to reserve.
                    <select type="number" th:field="*{percentageReserved}">
                        <option disabled>---</option>
                        <option value=25 th:value="${25}" th:text="25%"></option>
                        <option value=25 th:value="${50}" th:text="50%"></option>
                        <option value=25 th:value="${75}" th:text="75%"></option>
                        <option value=25 th:value="${100}" th:text="100%"></option>
                    </select>
                </label>


                <input th:if="${gift_obj.percentageReserved < 100}" type="submit" value="Reserve" />
                <button th:unless="${gift_obj.percentageReserved < 100}" type="button" onclick="reserved()">Reserved</button>
            </form>
        </div>
    </div>
</div>

<script>
    function reserved(){
        alert("This gift has already been reserved!");
    }
</script>
</body>
</html>