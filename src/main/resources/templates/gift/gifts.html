<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gifts</title>
</head>
<body>
<div class="container">
    <div class="gift-list-container">
    <div th:each="gift : ${gifts}">
        <p th:text="${gift.name}"></p>
        <p th:text="${gift.description}"></p>
        <p th:text="${gift.price}"></p>
        <p th:text="${gift.id} + 'is giftID'"></p>
        <form th:if="${gift.percentageReserved < 100}" th:action="@{/gifts/reserve/{id} (id = ${gift.id})}" th:object="${percentage}" method="post">
            <label>Select percentage to reserve.
                <select th:field="*{p}">
                    <option value="25">25%</option>
                    <option value="50">50%</option>
                    <option value="75">75%</option>
                    <option value="100">100%</option>
                </select>
            </label>
            <!--Hide "Reserve" button if gift has already been reserved. Need to also cover this on the back end-->
            <input type="submit" value="Reserve" />
        </form>
        <form th:if="${gift.percentageReserved == 100}" th:action="@{/gifts/cancel-reservation/{id} (id = ${gift.id})}" method="post">
            <input  type="submit" value="Cancel reservation" />
        </form>
    </div>
</div>

<script>
    function reserved(){
        alert("This gift has already been reserved!");
    }
</script>
</body>
</html>